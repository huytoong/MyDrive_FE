<div class="container">
  <header class="header">
    <div class="logo">MyDrive</div>
    <div class="search-bar">
      <input type="text" placeholder="T√¨m ki·∫øm trong Drive" [(ngModel)]="searchQuery" (keyup.enter)="search()" />
      <button (click)="search()">T√¨m</button>
    </div>
    <div class="account">
      <span>{{ username }}</span>
      <button (click)="logout()">ƒêƒÉng xu·∫•t</button>
    </div>
  </header>

  <div class="main">
    <!-- <aside class="sidebar">
      <button class="create-btn" (click)="createNew()">+ T·∫°o m·ªõi</button>
      <ul class="menu">
        <li (click)="showMyDrive()" [class.active]="activeTab === 'myDrive'">Drive c·ªßa t√¥i</li>
        <li (click)="showShared()" [class.active]="activeTab === 'shared'">ƒê∆∞·ª£c chia s·∫ª v·ªõi t√¥i</li>
        <li (click)="showStorage()" [class.active]="activeTab === 'storage'">B·ªô nh·ªõ</li>
      </ul>
    </aside> -->
    <aside class="sidebar">
      <button mat-flat-button color="primary" [matMenuTriggerFor]="createMenu">+ T·∫°o m·ªõi</button>
    
      <mat-menu #createMenu="matMenu">
        <button mat-menu-item (click)="openCreateFolder()">üìÅ T·∫°o th∆∞ m·ª•c</button>
        <button mat-menu-item (click)="openUploadFile()">‚¨ÜÔ∏è Upload t·ªáp</button>
      </mat-menu>
    
      <ul class="menu">
        <li (click)="showMyDrive()" [class.active]="activeTab === 'myDrive'">Drive c·ªßa t√¥i</li>
        <li (click)="showShared()" [class.active]="activeTab === 'shared'">ƒê∆∞·ª£c chia s·∫ª v·ªõi t√¥i</li>
        <li (click)="showStorage()" [class.active]="activeTab === 'storage'">B·ªô nh·ªõ</li>
      </ul>
    </aside>
    <section class="content">
      <ng-container [ngSwitch]="activeTab">
        <div *ngSwitchCase="'myDrive'">
          <h2>Drive c·ªßa t√¥i</h2>
          <p>Danh s√°ch file/folder c·ªßa b·∫°n s·∫Ω ·ªü ƒë√¢y.</p>
        
<!-- <div *ngFor="let file of files" class="file-item">
  <span>{{ file.name }}</span>

  <button mat-icon-button [matMenuTriggerFor]="fileMenu">
    <mat-icon>more_vert</mat-icon>
  </button>
  
  <mat-menu #fileMenu="matMenu">
    <button mat-menu-item (click)="openFileDetail(file)">
      <mat-icon>info</mat-icon>
      <span>Xem chi ti·∫øt</span>
    </button>
    <button mat-menu-item (click)="downloadFile(file)">
      <mat-icon>cloud_download</mat-icon>
      <span>T·∫£i xu·ªëng</span>
    </button>
    <button mat-menu-item (click)="deleteFile(file)">
      <mat-icon>delete</mat-icon>
      <span>Xo√°</span>
    </button>
  </mat-menu>
</div>

<ng-container *ngIf="selectedFile">
  <app-file-detail [file]="selectedFile" (closeDetail)="selectedFile = null"></app-file-detail>
</ng-container>
           -->
           <div *ngFor="let file of files" class="file-item">
            <span>{{ file.name }}</span>
          
            <!-- G·∫Øn menu trigger v·ªõi menu khai b√°o trong v√≤ng l·∫∑p -->
            <button mat-icon-button [matMenuTriggerFor]="menu">
              <mat-icon>more_vert</mat-icon>
            </button>
          
            <!-- M·ªói v√≤ng l·∫∑p t·∫°o m·ªôt menu ri√™ng -->
            <mat-menu #menu="matMenu">
              <button mat-menu-item (click)="openFileDetail(file)">
                <mat-icon>info</mat-icon>
                <span>Xem chi ti·∫øt</span>
              </button>
              <button mat-menu-item (click)="downloadFile(file)">
                <mat-icon>cloud_download</mat-icon>
                <span>T·∫£i xu·ªëng</span>
              </button>
              <button mat-menu-item (click)="renameFile(file)">
                <mat-icon>edit</mat-icon>
                <span>ƒê·ªïi t√™n</span>
              </button>
              <button mat-menu-item (click)="shareFile(file)">
                <mat-icon>share</mat-icon>
                <span>Chia s·∫ª</span>
              </button>
              <button mat-menu-item (click)="deleteFile(file)">
                <mat-icon>delete</mat-icon>
                <span>Xo√°</span>
              </button>
            </mat-menu>
          </div>
          <ng-container *ngIf="selectedFile">
            <app-file-detail [file]="selectedFile" (closeDetail)="selectedFile = null"></app-file-detail>
          </ng-container>
          
          
        </div>
        <div *ngSwitchCase="'shared'">
          <h2>ƒê∆∞·ª£c chia s·∫ª v·ªõi t√¥i</h2>
          <p>Danh s√°ch file/folder ƒë∆∞·ª£c chia s·∫ª s·∫Ω ·ªü ƒë√¢y.</p>
        </div>
        <div *ngSwitchCase="'storage'">
          <h2>B·ªô nh·ªõ</h2>
          <p>Th√¥ng tin b·ªô nh·ªõ: 5GB/15GB ƒë√£ d√πng.</p>
        </div>
        <div *ngSwitchDefault>
          <h2>Ch√†o m·ª´ng ƒë·∫øn v·ªõi MyDrive</h2>
        </div>
      </ng-container>
    </section>
  </div>
</div>